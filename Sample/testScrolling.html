<!-- <!DOCTYPE html> -->
<html>
  <head>
    <style type="text/css">
      html, body, #map-canvas { height: 100%; margin: 0; padding: 0;}
    </style>
    <!-- import jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <!-- CDNJS :: Sortable (https://cdnjs.com/) -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/Sortable/1.1.1/Sortable.min.js"></script>
  
    <script>
      function getRoute(){
        // creates json object to send to server
        var routeData = {
            type: "routeStreetRequest",

            // !!!!!!! ANYTHING WITH A '$' IS JQUERY. THIS IS JQUERY

            routeNumber: $(routeInput).val()
          };
        // talks to server
        // first argument: port,
        // second: data to send over,
        // third: function that specifies what to do with the data that is recieved
        $.get('http://127.0.0.1:1337/', routeData, function(recieved_data){
            // prints the data recieved on the console.
            // in your browser, click "View" --> "Developer" --> "javaScript Console" to see the console
            console.log(recieved_data);
            // puts the relevant data into the on street textbox
            document.getElementById('onStreet').value = recieved_data.on_street;
          });
          // reset textbox value
          routeInput.value = "";
      }

      function makeDraggable(listName){
        var el = document.getElementById(listName);
        var sortable = Sortable.create(el);
      }

      // var el = document.getElementById('items');
      // var sortable = Sortable.create(el);


    </script>



  </head>
  <body>

    <!-- creates textboxes and buttons -->
    Route: <input type='text' id='routeInput' value = '44'>
    <!-- call on getRoute function when this button is pressed -->
    <button id='getRouteButton' onclick = "getRoute()">Try it</button>
    onStreet: <input type='text' id='onStreet' value = 'on street?'>

    <p> Type in a route number (look at the csv file for different route umbers)
      and street that is on that route will appear in the text box labelled 'onStreet'</p>

    <ul id='items'>
      <li> item 1 </li>
      <li> item 2 </li>
      <li> item 3 </li>
    </ul>

    <script>makeDraggable("items"); </script>

    <ul id='items2'>
      <li> item 4 </li>
      <li> item 5 </li>
      <li> item 6 </li>
    </ul>

    <script>makeDraggable("items2"); </script>    

    </body>
</html>