<html>
  <head>
    <!-- import jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  </head>
  <body>
    <script>
      //////////////// HTTP REQUEST FUNCTIONS //////////////////

      function getEmail(userID){
        console.log("get user" + userID + " email");
        // creates json object to send to server
        var request = {
            type: "emailRequest",
            user: userID
            // !!!!!!! ANYTHING WITH A '$' IS JQUERY. THIS IS JQUERY
          };
        // talks to server
        // first argument: port,
        // second: data to send over,
        // third: function that specifies what to do with the data that is recieved
        $.get('http://127.0.0.1:1337/', request, function(data) {
            console.log(data);
            // prints the data recieved on the console.
            // in your browser, click "View" --> "Developer" --> "javaScript Console" to see the console
            console.log(data[0].email);
            // puts the relevant data into the on street textbox
            //document.getElementById('onStreet').value = recieved_data.on_street;
          });
          // reset textbox value
          //routeInput.value = "";
      }

      function getUserInfo(userID) {
        var request = {
          type : "userInfoRequest",
          user : userID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
          console.log(data.teacher);
          console.log(data.school);
          console.log(data.biography);
          console.log(data.dateCreated);
        });
      }

      function getSavedProblems(userID) {
        var request = {
          type: "savedProblemsRequest",
          user: userID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
        });
      }

      function getCustomWorksheets(userID) {
        var request = {
          type: "customWorksheetsRequest",
          user: userID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
          //data[i] is worksheet i
          //data[i] is an array of problem tags
          console.log(data[1][0]);
          console.log(data[1][1]);
        });
      }

      function getAccountDate(userID) {
        var request = {
          type: "accountDateRequest",
          user: userID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
          console.log(data.dateCreated);
          console.log(data.dateModified);
        });
      }

      function getProblem(problemID) {
        var request = {
          type: "problemRequest",
          problem: problemID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
        });
      }

      function getProblemTopic(problemID) {
        var request = {
          type: "problemTopicRequest",
          problem: problemID
        };

        $.get('http://127.0.0.1:1337/', request, function(data) {
          console.log(data);
        });
      }

    </script>
    <button id = 'saveTableValue' onclick = "getProblemTopic(2)"> query database</button>
  </body>
</html>
